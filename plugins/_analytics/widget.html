<div id="timeline-div"></div>

<table>
<tr>

    <td class="center">
        <i class="icon-user-2"></i> <span id="met2"></span> {visits}
    </td>

    <td class="center">
        <i class="icon-user-2"></i> <span id="met3"></span> {visits_uniq}
    </td>

    <td class="center">
        <i class="icon-eye"></i> <span id="met1"></span> {page_views}
    </td>

    <td class="center">
        <a href="{ga_url}" target="_blank"><i class="icon-bars"></i> Google Analytics</a>
    </td>

</tr>
</table>


<script type="text/javascript" src="/library/js/oocharts/oocharts.js"></script>
<script type="text/javascript">
oo.setOOId("{google_analytics_ooID}");
oo.load(doCharts);

function doCharts()
{
    ga_profil_id = "{google_analytics_profil_id}";
    ga_date_start = new Date("{date_start}");
    ga_date_end = new Date("{date_end}");

    // metrics
    var metric1 = new oo.Metric(ga_profil_id, ga_date_start, ga_date_end);
    metric1.setMetric('ga:pageviews');
    metric1.draw('met1', function(){
        v = $('#met1').text();
        v = number_format(v, 0, '.', ' ');
        $('#met1').text(v);
    });

    var met2 = new oo.Metric(ga_profil_id, ga_date_start, ga_date_end);
    met2.setMetric('ga:visits');
    met2.draw('met2', function(){
        v = $('#met2').text();
        v = number_format(v, 0, '.', ' ');
        $('#met2').text(v);
    });

    var met3 = new oo.Metric(ga_profil_id, ga_date_start, ga_date_end);
    met3.setMetric('ga:visitors');
    met3.draw('met3', function(){
        v = $('#met3').text();
        v = number_format(v, 0, '.', ' ');
        $('#met3').text(v);
    });

    // timeline
    var tl = new oo.Timeline(ga_profil_id, ga_date_start, ga_date_end);
    tl.setOption('title', "{title}");
    tl.setOption('colors', ['green', 'orange']);
    tl.addMetric('ga:visits', '{visits}');
    tl.addMetric('ga:visitors', '{visits_uniq}');
    tl.draw("timeline-div");

}
</script>